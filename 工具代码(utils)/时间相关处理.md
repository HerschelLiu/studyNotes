```ts
/** 获取任意时间的特定日期 */
export function getSomeDate(theDate: Date | number, month?: number, date?: number) {
  const today = typeof theDate === 'number' ? new Date(theDate) : theDate
  isHaveValue(month) && today.setMonth(month!)
  isHaveValue(date) && today.setDate(date!)

  return today.getTime()
}

/**
 * 计算当前日期所在周是本年第几周
 */
export const getYearWeek = (date: Date | number) => {
  const endDate = typeof date === 'number' ? new Date(date) : date
  const beginDate = new Date(endDate.getFullYear(), 0, 1)
  const endWeek = endDate.getDay() === 0 ? 7 : endDate.getDay()
  const beginWeek = beginDate.getDay() === 0 ? 7 : beginDate.getDay()
  const weekDayDiff = endDate.getTime() - beginDate.getTime()
  const dayDiff = Math.floor((weekDayDiff + (beginWeek - endWeek) * (24 * 60 * 60 * 1000)) / 86400000)

  return Math.ceil(dayDiff / 7)
}

/** 获取完整自然月起止时间戳 */
export const getMonthBeginEnd = (year: number, month: number) => {
  if (~~year === 0 || ~~month === 0) {
    throw new Error('年月参数错误')
  }

  const result = { begin: 0, end: 0 }
  const target = new Date(year, month - 1, 1)
  result.begin = target.getTime()

  const now = new Date()
  console.log(`target: ${ target.getFullYear() + target.getMonth() }`)
  console.log(`now: ${ now.getFullYear() + now.getMonth() }`)

  if (target.getTime() >= now.getTime()) {
    result.end = now.getTime()
    return result
  }

  target.setMonth(month)// 当月的下个月1日 0时0分0秒
  target.setSeconds(-1)// 前1秒,即昨天最后1秒钟,也就是上个月的最后一秒钟

  result.end = target.getTime()

  return result
}

/**
 * 获取自然周开始结束时间
 */
export const getWeekByMonth = (year: number, month: number) => {
  const result = { begin: 0, end: 0 }
  const target = new Date(year, month - 1, 1)
  const targetDay = target.getDay() === 0 ? 7 : target.getDay()
  result.begin = target.getTime()

  target.setDate(target.getDate() + (7 - targetDay))
  target.setHours(23)
  target.setMinutes(59)
  target.setSeconds(59)
  result.end = target.getTime()

  return result
}
```

