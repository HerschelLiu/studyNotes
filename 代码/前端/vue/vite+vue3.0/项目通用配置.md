## `prettier`

`.prettierrc`

```json
  {
    // 使用单引号包裹字符串
    "singleQuote": true,

    // 语句末尾添加分号
    "semi": false,

    // 保持花括号之间的间隔
    "bracketSpacing": true,

    // 不在参数周围添加额外的花括号
    "trailingComma": "none",

    // 不在行末尾与花括号在同一行
    "bracketSameLine": false,

    // 避免在箭头函数周围添加额外的花括号
    "arrowParens": "avoid",

    // 根据代码的内容自动设置行尾方式
    "endOfLine": "auto",

    // 屏幕宽度超过150字符时折叠代码
    "printWidth": 150,

    // 忽略HTML空白字符
    "htmlWhitespaceSensitivity": "ignore",

    // 覆盖设置
    "overrides": [
      {
        "files": "*.wxml",
        "options": {
          "parser": "html"
        }
      },
      {
        "files": "*.html",
        "options": {
          "parser": "html"
        }
      },
      {
        "files": "*.vue",
        "options": {
          "parser": "vue"
        }
      },
      {
        "files": "*.tsx",
        "options": {
          "parser": "typescript"
        }
      }
    ]
  }
```

`package.json`

```json
{
  ...
  "lint-staged": {
    "miniprogram/**/*.scss": [
      "stylelint --fix --allow-empty-input"
    ]
  }
}
```





## stylelint

[Stylelint 简介 | Stylelint中文文档 | Stylelint中文网](https://www.stylelint.com.cn/)

```bash
pnpm add -D stylelint stylelint-config-standard stylelint-order stylelint-config-property-sort-order-smacss stylelint-prettier stylelint-config-prettier stylelint-config-standard-scss
```

`css modules`: `pnpm add -D stylelint-config-css-modules stylelint-scss`

> 将SCSS与诸如styleslint -config-standard- SCSS之类的配置一起使用意味着您必须安装styleslint - SCSS。
>
> Plugins: [“"stylelint-scss"”]

* `stylelint`：StyleLint 的核心模块
* `stylelint-config-standard`：StyleLint 官方推荐的配置规则
* `stylelint-config-standard-scss`：该插件是 StyleLint 的 SCSS 扩展，增加了对 SCSS 语法的支持，允许检查和验证 SCSS 文件
* ` stylelint-order`： 该插件提供了一套默认的CSS 属性排序规则，可以按照指定的顺序对属性进行排序。
* `stylelint-config-property-sort-order-smacss`： 基于 [SMACSS](http://smacss.com/) 方法排序的stylelint配置

* 需要先安装`prettier`
  * `stylelint-prettier`：基于 `prettier` 代码风格的 `stylelint` 规则
  * `stylelint-config-prettier`：该配置用于解决 StyleLint 和 Prettier 之间的规则冲突问题。将其放在 `extends` 数组的最后位置，可以确保覆盖 Prettier 的配置

`.stylelintrc`

```json
{
  "plugins": ["stylelint-order", "stylelint-prettier"],
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-standard-scss",
    "stylelint-config-prettier",
    "stylelint-config-property-sort-order-smacss"
    "stylelint-config-css-modules"
  ],
  "rules": {
    // 检查未知的 at-rules
    "at-rule-no-unknown": [
      true,
      {
        "ignoreAtRules": ["mixin", "include", "extend", "import", "if"]
      }
    ],
    // 要求或禁止在声明语句之前有空行
    "declaration-empty-line-before": "never",
    // 禁止低优先级的选择器出现在高优先级的选择器之后
    "no-descending-specificity": null,
    // 禁止未知的伪元素选择器
    "selector-pseudo-element-no-unknown": [
      true,
      {
        "ignorePseudoElements": ["v-deep"]
      }
    ],
    // 禁止未知的伪类选择器
    "selector-pseudo-class-no-unknown": [
      true,
      {
        "ignorePseudoClasses": ["deep"]
      }
    ],
    // 禁止未知的单位
    "unit-no-unknown": [
      true,
      {
        "ignoreUnits": ["/rpx/"]
      }
    ],
    // 禁止未知的类型选择器
    "selector-type-no-unknown": [
      true,
      {
        "ignoreTypes": [
          "/page/"
        ]
      }
    ],
    // 禁止自定义属性缺少 var 函数
    "custom-property-no-missing-var-function": [
      true,
      {
        "ignoreAtRules": ["$"]
      }
    ],
    // 使用 Prettier 格式化代码
    "prettier/prettier": [
      true
    ],
    // 禁止未知的函数
    "function-no-unknown": [
      true,
      {
        "ignoreFunctions": ["constant", "env"]
      }
    ],
    // 禁止使用厂商前缀
    "value-no-vendor-prefix": null,
    // 为适用的颜色功能指定现代或传统符号
    "color-function-notation": "legacy",
    // 按照指定顺序进行检查
    "order/order": [
      "at-rules",
      "declarations",
      "rules",
      "dollar-variables",
      "custom-properties"
    ],
    // 指定 alpha 值的百分比或数字表示法
    "alpha-value-notation": null
  }
}
```

`.stylelintignore`为忽略文件

```
dist/
```

`package.json`

```json
{
  "scripts": {
    "lint:stylelint": "stylelint \"./miniprogram/**/*.scss\" --fix"
  }
}
```



## `eslint`
