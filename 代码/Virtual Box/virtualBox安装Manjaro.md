## 虚拟机安装

* 选择arch linux，没有就选other linux
* 直接覆盖安装就行
* 处理器改成4个，如果还是安装时候闪退，把其他占内存的都关上

* 设置：
  * 系统
    * 主板：
      * 内存大小按实际来
      * 芯片组PIIX3
      * 扩展特性不启用EFI
    * 处理器
      * 处理器数量按实际来，4cpu
  * 显示
    * 显存开到最大
    * 显卡控制器VBoxSVGA
    * 不启用3D加速
  * USB设备
    * 启用USB控制器，USB3.0

* 安装到92%或者93%时，卡在Misc postinstall configurations处不动。解决方法:断网安装，稍等一会儿即可。附:由于联网安装，这部分镜像来源于国外资源，中国大陆往往需要几个小时的龟速进行下载。

## win10双系统安装

[win10环境下安装manjaro kde（双系统）](https://www.cnblogs.com/Jaywhen-xiang/p/11561661.html)

1. **查看电脑的启动方式:**

   目前主流的两种启动系统的方式：
   **legacy**启动+**MBR**分区表

   **UEFI**启动+**GPT**分区表

   我们需要查看自己硬盘使用的哪种分区：

   ```repl
   Copy文件资源管理器->（右键）此电脑->管理->磁盘管理
   ```
	最下方右键选择一个磁盘->属性->卷，在磁盘分区形式一栏中可以看到是GPT or MBR
	
2. **制作启动盘：**

   制作启动盘官方文档推荐使用[Rufus](http://rufus.ie/)或[Image Writer](https://launchpad.net/win32-image-writer/)，我这里使用Rufus来制作
   ps:rufus是用c写的（难怪这么快），是一个开源项目，有兴趣的小伙伴可以去它的[github](https://github.com/pbatard/rufus/tree/master/src)上研究研究
   最新版本的Rufus可能无法选择分区类型，可以选择下载低版本

   插入u盘，打开`Rufus`，我的分区类型一栏选择的是`GPT`，其他的都为默认，

   点击`开始`后弹出该窗口，点击以`DD`镜像模式写入

3. **配置选项（drive）**

   |                                |                      |
   | :----------------------------: | :------------------: |
   |              Free              |       Non-Free       |
   |            开源驱动            |       闭源驱动       |
   |            AMD显卡             |     新Nvidia显卡     |
   |        基于Intel的集显         | 想用Nvidia显卡打游戏 |
   |         老的Nvidia显卡         |                      |
   | 实在不知道怎么选(条件都不满足) |                      |
   
4. **分区**

   选择手动分区

   我的划分表(共60G)：

   |   大小   | 文件系统  | 挂载点 |   标记   |                             用途                             |
   | :------: | :-------: | :----: | :------: | :----------------------------------------------------------: |
   |    8G    | linuxswap |        |   swap   | [about swap](https://www.cnblogs.com/kerrycode/p/5246383.html) |
   |   500M   |   ext4    | /boot  |   boot   |                  存放与Linux启动相关的程序                   |
   |   20G    |   ext4    |   /    |   root   |                 用于存放系统相当于win10的C盘                 |
   | the rest |   ext4    | /home  | 无需标记 |                         用户数据存储                         |

   也可以只有/分区

5. **挂载Manjaro引导**

   此时找到大小为100M的分区
   这里面有Windows的引导分区，所以内容点保留（keep），挂载点选择`/boot/efi`标记boot



1.根目录“/” 分配15-20G左右

2.“/boot” 非uefi分配200m以上，uefi分配512m以上。 附:我分配了512m。

3.“/var” 现在基本不用分配这个，忽略。

4.“swap” 临时存储空间，也就是虚拟内存，以防万一还是给予2~4G的大小。

5.剩下的空间全部给予“/home”

6.双系统关键一步，非双系统无视。找到win10分区文件格式为FAT格式的分区，大小约为100m左右，编辑设置为“/boot/efi”,选择“保留”(千万别格式化)。ok并关闭。

## 